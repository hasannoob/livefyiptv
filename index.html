<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livefy TV (Create By HASAN)</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* --- CORE STYLES --- */
        body {
            font-family: 'Arial', sans-serif;
            background-color: black;
            color: #fff;
            margin: 0;
            padding: 0;
            padding-bottom: 70px; 
            overflow-x: hidden;
            /* Added min-height to help with full screen apps */
            min-height: 100vh;
        }

        /* --- HEADER STYLE --- */
        .main-header {
            background-color: #C80815;
            color: white;
            padding: 15px 10px;
            text-align: center;
            font-size: 28px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            margin-bottom: 0;
        }
        
        .welcome-box {
            background-color: #333;
            padding: 5px;
            border: 2px solid Red;
            margin-top: 5px; 
            overflow: hidden;
            position: relative;
        }

        .welcome-text {
            display: inline-block;
            white-space: nowrap;
            animation: marquee 80s linear infinite;
            font-size: 20px;
            color: #00ff00;
            font-weight: bold;
        }

        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        /* --- FIX: Content container should be centered and wide enough --- */
        .content {
            padding: 10px;
            max-width: 600px; /* Max width to look good on large screens */
            margin: 0 auto; 
            width: 100%; /* Ensure it takes full available width on mobile */
            box-sizing: border-box; /* Include padding in width calculation */
            padding-top: 10px; 
        }
        
        /* --- NEW: TAB NAVIGATION STYLES (To be placed inside .content) --- */
        .filter-tabs {
            display: flex;
            justify-content: space-between;
            margin-top: 10px; 
            margin-bottom: 15px;
            background-color: #1a1a1a;
            border-radius: 8px;
            padding: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            /* Ensure the tabs take the full width of the content area */
            width: 100%; 
            box-sizing: border-box;
        }

        .tab-item {
            flex-grow: 1;
            text-align: center;
            padding: 10px 5px;
            cursor: pointer;
            font-weight: bold;
            color: #ccc;
            border-radius: 6px;
            transition: all 0.3s ease;
            margin: 0 2px;
            font-size: 14px;
            white-space: nowrap; /* Prevent wrapping */
        }

        .tab-item:hover {
            background-color: #333;
        }

        .tab-item.active {
            background-color: #C80815;
            color: white;
            box-shadow: 0 2px 8px rgba(200, 8, 21, 0.5);
        }
        /* --- END NEW TAB NAVIGATION STYLES --- */


        /* --- HEADER AND TIME STYLES --- */
        .section-header {
            display: flex;
            justify-content: space-between; 
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px solid #444; 
        }
        .section-header h2 {
            font-size: 22px; 
            font-weight: bold; 
            color: white; 
            margin: 0; 
            min-width: 120px; 
        }
        .datetime-box {
            background-color: #C80815;
            color: white;
            padding: 5px 10px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: bold;
            text-align: right;
            line-height: 1.2;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
            min-width: 90px;
        }
        .datetime-box .date-text {
            color: #ffd700;
        }

        .join-now-link i { 
            margin-right: 5px; 
        }
        
        .join-now-link {
            text-decoration: none;
            background-color: #00ff00;
            color: #000;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 700;
            transition: background-color 0.3s;
            white-space: nowrap;
            border: 1px solid #000;
        }

        /* Card Styles */
        .match-card, .channel-card, .highlight-card, .banner {
            background-color: #222;
            border: 1px solid #00ffc8;
            border-radius: 10px;
            margin-bottom: 15px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.5);
            cursor: pointer;
            transition: transform 0.3s;
            width: 100%; /* FIX: Ensure cards take full width of container */
            box-sizing: border-box; /* FIX: Ensure padding is inside width */
        }

        .match-card:hover, .channel-card:hover, .highlight-card:hover {
            transform: scale(1.03); 
        }
        
        .channel-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            text-align: left;
            padding: 15px;
        }
        
        /* Match Info Styles */
        .match-title { background-color: #000; color: #fff; display: inline-block; padding: 2px 6px; border-radius: 10px; font-size: 10px; font-weight: bold; margin-bottom: 5px; }
        .team { display: flex; justify-content: space-between; align-items: center; margin: 5px 0; }
        .team img { width: 30px; height: 30px; border-radius: 50%; border: 1px solid red; }
        .team-name { text-align: center; font-size: 10px; font-weight: bold; }
        .match-info { text-align: center; }
        
        /* --- DYNAMIC STATUS STYLES --- */
        .time-date-container { 
            text-align: center; 
            min-height: 45px; 
            display: flex; 
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-width: 100px; /* Ensure status box has enough room */
        }
        
        /* Match Status Text Styles */
        .match-status-text {
            font-weight: bold;
            margin-top: 5px;
            font-size: 15px;
            display: block;
        }
        
        .live-animation { 
            color: #C80815; 
            font-size: 18px; 
            font-weight: 900; 
            animation: blink 1s infinite; 
        }
        
        .countdown-timer {
            color: #ffd700; 
            font-size: 16px;
        }
        
        .match-finished {
            color: #888; 
            font-size: 14px;
        }
        
        .hidden { display: none !important; }
        
        /* LIVE text blink animation */
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        /* --- END DYNAMIC STATUS STYLES --- */

        /* --- VIDEO PLAYER STYLES (Restored/Checked) --- */
        #video-player {
            display: none; 
            position: fixed; 
            top: 0;
            left: 0;
            width: 100vw; 
            height: 100vh; 
            background-color: #080808; 
            z-index: 1000; 
            justify-content: center; 
            align-items: center; 
            flex-direction: column; 
            padding: 10px; 
            box-sizing: border-box;
            overflow-y: auto; 
        }
        
        /* ... other video player styles ... (Assumed correct) */
        
        /* --- Bottom Navigation Bar Styles (Restored/Checked) --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #111;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-top: 1px solid #333;
            z-index: 999;
        }
        /* ... other nav styles ... (Assumed correct) */
        
    </style>
</head>
<body>

    <header class="main-header">
        LIVEFY TV
    </header>

    <div class="welcome-box">
        <div class="welcome-text"> ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ‡•§| ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶Ø‡ßá ‡¶ï‡ßã‡¶® ‡¶ñ‡ßá‡¶≤‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶™‡ßá‡¶§‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶ú‡¶Ø‡¶º‡ßá‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶≤‡ßá ‡¶π‡¶§‡ßá ‡ßß‡ß¶ ‡¶•‡ßá‡¶ï‡ßá ‡ßß‡ß´ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶≤‡¶æ‡¶ó‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶è‡¶á‡¶ü‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ó‡¶§‡¶ø‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡•§‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ñ‡ßá‡¶≤‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ‡¶ï‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶§‡¶∞‡ßá ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶§‡ßà‡¶∞‡¶ø? ‡¶ï‡ßã‡¶®‡ßã ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∞‡¶ï‡ßç‡¶§‡¶ø‡¶ï‡¶∞ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶õ‡¶æ‡¶°‡¶º‡¶æ‡¶á ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ñ‡ßá‡¶≤‡¶æ ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®, ‡¶â‡¶ö‡ßç‡¶ö ‡¶ó‡ßÅ‡¶£‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá‡•§ ‡¶¶‡ßá‡¶∞‡¶ø ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá, ‡¶è‡¶ñ‡¶®‡ßã‡¶á ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶® LiveFy ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶è‡¶¨‡¶Ç ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶ø‡¶ò‡ßç‡¶® ‡¶∏‡ßç‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶∏ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç! ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§‡•§ </div>
    </div>

    <div class="content">
        
        <div id="home-section">
            
            <div class="section-header">
                <h2 id="match-section-title">All Matches</h2> 
                
                <a href="https://t.me/livefytv" class="join-now-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-telegram-plane"></i> Join Now
                </a>
                
                <div id="time-display-home" class="datetime-box"></div>
            </div>

            <div class="filter-tabs">
                <div class="tab-item active" data-filter="all" id="tab-all" onclick="filterMatches('all', this)">All</div>
                <div class="tab-item" data-filter="live" id="tab-live" onclick="filterMatches('live', this)">üî¥ Live</div>
                <div class="tab-item" data-filter="upcoming" id="tab-upcoming" onclick="filterMatches('upcoming', this)">Upcoming</div>
                <div class="tab-item" data-filter="finished" id="tab-finished" onclick="filterMatches('finished', this)">Recent</div>
            </div>

            
            <div id="home-events-container">
            
                <div id="match-card-10" class="match-card" data-match-id="10" onclick="openMatchChannels([{name: 'Tapmad', url: 'https://bd-mc-fdlive.fancode.com/mumbai/138238_english_hls_3c279f8f2c58850_1ta-di_h264/index.m3u8'}])">
                    <div class="match-title">Cricket üèè|| Bangladesh vs Ireland series 2025 </div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Flag_of_Bangladesh.svg" alt="Bangladesh Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=BD';">
                            <div class="team-name">Bangladesh</div>
                        </div>
                        <div class="time-date-container" id="status-10">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Flag_of_Ireland.svg" alt="Ireland Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=IR';">
                            <div class="team-name">Ireland</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket üèè live match</div>
                </div>

                <div id="match-card-4" class="match-card" data-match-id="4" onclick="openMatchChannels([{name: 'Server 1', url: 'https://foxhindi.pages.dev/playlist.m3u8'}])">
                    <div class="match-title">Cricket üèè|| England vs Australia 1st Test 2025</div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/b/be/Flag_of_England.svg" alt="England Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=ENG';">
                            <div class="team-name">England</div>
                        </div>
                        <div class="time-date-container" id="status-4">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/b/b9/Flag_of_Australia.svg" alt="Australia Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=AUS';">
                            <div class="team-name">Australia</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket üèè live match</div>
                </div>

                <div id="match-card-5" class="match-card" data-match-id="5" onclick="openMatchChannels([{name: 'Server 1', url: 'https://bongoflixbd.top/test/live.php?id=ten_cricket&e=.m3u8'}])">
                    <div class="match-title">Cricket ||ACC Mens Asia Cup Rising Stars 2025 </div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/f/fd/2025_ACC_Asia_Cup.png" alt="ACC Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=ACC';">
                            <div class="team-name">ACC Mens Asia Cup</div>
                        </div>
                        <div class="time-date-container" id="status-5">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/f/fd/2025_ACC_Asia_Cup.png" alt="ACC Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=ACC';">
                            <div class="team-name">ACC Mens Asia Cup</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket Live Match Enjoy</div>
                </div>
                
                <div id="match-card-3" class="match-card" data-match-id="3" onclick="openMatchChannels([{name: 'Tapmad', url: 'https://premierleagpl23.akamaized.net/hls/live/2107108/Tapmad-25852-Seriea-1.2/master.m3u8'}])">
                    <div class="match-title">Cricket || Abu Dhabi T10 League 2025</div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/0/05/T10_League_Logo.png" alt="T10 Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=T10';">
                            <div class="team-name">T10 League</div>
                        </div>
                        <div class="time-date-container" id="status-3">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/0/05/T10_League_Logo.png" alt="T10 Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=T10';">
                            <div class="team-name">T10 League</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket live match</div>
                </div>

                <div id="match-card-2" class="match-card" data-match-id="2" onclick="openMatchChannels([{name: 'SERVER 1', url: 'https://saseries.akamaized.net/hls/live/2110097/tappak/hdntl=exp=1763599353~acl=%2f*~data=hdntl~hmac=157cb295d064b207567722714e047673e7c07acbf525171016db3f828940e4da/level_4.m3u8'}, {name: 'SERVER 2', url: 'https://saseries.akamaized.net/hls/live/2110097/tappak/hdntl=exp=1763599353~acl=%2f*~data=hdntl~hmac=157cb295d064b207567722714e047673e7c07acbf525171016db3f828940e4da/level_1.m3u8'}])">
                    <div class="match-title">Cricket üèè || New Zealand vs West Indies</div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg" alt="NZ Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=NZ';">
                            <div class="team-name">New Zealand</div>
                        </div>
                        <div class="time-date-container" id="status-2">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/9/9b/Cricket_West_Indies_Logo_2017.png" alt="WI Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=WI';">
                            <div class="team-name">West Indies</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket üèè live match</div>
                </div>

                <div id="match-card-9" class="match-card" data-match-id="9" onclick="openMatchChannels([{name: 'Tapmad', url: 'https://saseries.akamaized.net/hls/live/2110097/T56A87p03/hdntl=exp=1763351885~acl=%2f*~data=hdntl~hmac=d04fde0f27b855c833aa9e8262b57ba607f91b5777295174095542342845aa95/level_4.m3u8'}, {name: 'Tapmad', url: 'http://xxip9.top:8080/live/7656691303/chrisbolden765%40icloud.com/58847.m3u8'}])">
                    <div class="match-title">Cricket || India Vs South Africa 1st Test </div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Flag_of_India.svg" alt="India Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=IND';">
                            <div class="team-name">India</div>
                        </div>
                        <div class="time-date-container" id="status-9">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/a/af/Flag_of_South_Africa.svg" alt="SA Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=SA';">
                            <div class="team-name">South Africa</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket test live match</div>
                </div>

                <div id="match-card-1" class="match-card" data-match-id="1" onclick="openMatchChannels([{name: 'Server 1', url: 'https://premierleagpl23.akamaized.net/hls/live/2107108/Tapmad38285-ENC301/master.m3u8'}, {name: 'Server 2', url: 'https://premierleagpl23.akamaized.net/hls/live/2107108/Tapmad38285-ENC301/master.m3u8?hdnts=exp=1763284322~acl=/hls/*~hmac=8e5d6bc20df0ba17553606307477fdf9ca269173239c5ec9b6d4036dbc6f0389'}, {name: 'Server 3', url: 'https://fl7.moveonjoy.com/WILLOW_CRICKET/index.m3u8'}])">
                    <div class="match-title">Cricket || Pakistan T20I Tri-Nation Series 2025</div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/3/32/Flag_of_Pakistan.svg" alt="Pakistan Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=PAK';">
                            <div class="team-name">Pakistan</div>
                        </div>
                        <div class="time-date-container" id="status-1">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Flag_of_Zimbabwe.svg" alt="Zimbabwe Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=ZIM';">
                            <div class="team-name">Zimbabwe</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket Live Match</div>
                </div>

                <div id="match-card-11" class="match-card" data-match-id="11" onclick="openMatchChannels([{name: 'Server 1', url: 'https://a62dad94.wurl.com/master/f36d25e7e52f1ba8d7e56eb859c636563214f541/UmFrdXRlblRWLWV1X0ZJRkFQbHVzRW5nbGlzaF9ITFM/playlist.m3u8'}])">
                    <div class="match-title">Football ||FIFA U-17 World Cup 2025</div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/5/5c/2025_FIFA_U-17_World_Cup.png" alt="FIFA U17 Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=FIFA';">
                            <div class="team-name">FIFA U-17</div>
                        </div>
                        <div class="time-date-container" id="status-11">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/5/5c/2025_FIFA_U-17_World_Cup.png" alt="FIFA U17 Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=FIFA';">
                            <div class="team-name">FIFA U-17</div>
                        </div>
                    </div>
                    <div class="match-stage">Football‚öΩ live match</div>
                </div>

                <div id="match-card-7" class="match-card" data-match-id="7" onclick="openMatchChannels([{name: 'SERVER 1', url: 'https://king.spider-on.top/playlist/tv/watchfooty-tv-1-renegades-stars/1/1494538/playlist.m3u8?hash=F11hUm1WYlWzXHS1IAGsqX-XoM8tEy0h'}, {name: 'SERVER 2', url: 'https://king.spider-on.top/playlist/tv/watchfooty-tv-1-renegades-stars/1/1494538/playlist.m3u8?hash=F11hUm1WYlWzXHS1IAGsqX-XoM8tEy0h'}])">
                    <div class="match-title">Cricket üèè|| Woman Big Bash League</div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/9/97/Weber_wbbl_logo.png" alt="WBBL Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=WBBL';">
                            <div class="team-name">WBBL</div>
                        </div>
                        <div class="time-date-container" id="status-7">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/9/97/Weber_wbbl_logo.png" alt="WBBL Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=WBBL';">
                            <div class="team-name">WBBL</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket üèè live match</div>
                </div>

                <div id="match-card-6" class="match-card" data-match-id="6" onclick="openMatchChannels([{name: 'Server BD', url: 'https://saseries.akamaized.net/hls/live/2110097/tappak/hdntl=exp=1763732375~acl=%2f*~data=hdntl~hmac=1880b8e4b69ce71b7d7a7e043adaf7c6302332474f7be57c7c8abfc0a52ef941/level_0.m3u8'}])">
                    <div class="match-title">Cricket || Sri Lanka vs Zimbabwe </div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/1/11/Flag_of_Sri_Lanka.svg" alt="SL Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=SL';">
                            <div class="team-name">Sri Lanka</div>
                        </div>
                        <div class="time-date-container" id="status-6">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Flag_of_Zimbabwe.svg" alt="ZIM Flag" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=ZIM';">
                            <div class="team-name">Zimbabwe</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket live match</div>
                </div>

                <div id="match-card-8" class="match-card" data-match-id="8" onclick="openMatchChannels([{name: 'Server 1', url: '%20(Linux%3BAndroid%2F13)%20AndroidXMedia3%2F1.1.1&Referer=https%3A%2F%2Ffancode.com%2F'}])">
                    <div class="match-title">Cricket ||Nepal Premier League-2025</div>
                    <div class="team">
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/7/73/Nepal_Premier_league_logo.svg" alt="NPL Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=NPL';">
                            <div class="team-name">NPL</div>
                        </div>
                        <div class="time-date-container" id="status-8">
                            <div class="match-status-text countdown-timer">Loading...</div>
                        </div>
                        <div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/7/73/Nepal_Premier_league_logo.svg" alt="NPL Logo" onerror="this.onerror=null; this.src='https://placehold.co/30x30/222/fff?text=NPL';">
                            <div class="team-name">NPL</div>
                        </div>
                    </div>
                    <div class="match-stage">Cricket live match</div>
                </div>
            
                <div class="banner" id="home-banner">
                    <a href="https://www.revenuecpmgate.com/p3zdd3e2?key=daa29b7514ba8b9cd04e286e56b7e484" target="_blank" rel="noopener noreferrer">
                        <img src="https://i.ibb.co.com/3yRrLxfK/20251002-090751.jpg" alt="Home Section Banner" class="banner-image" onerror="this.onerror=null; this.src='https://placehold.co/600x100/C80815/ffffff?text=LIVEFY+AD+SPACE';">
                    </a>
                </div>
                
            </div> </div> <div id="sports-channels-section" class="hidden">
            <div class="section-header">
                <h2>Live TV</h2>
                <a href="https://t.me/livefytv" class="join-now-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-telegram-plane"></i> Join Now
                </a>
                <div id="time-display-channels" class="datetime-box"></div>
            </div>
             <div class="channel-card" onclick="openMatchChannels([{name: 'T Sports', url: 'http://103.175.242.10:8080/tsports1/index.m3u8'}])">
                <div><h4>T Sports</h4><p style="color:#aaa; font-size: 14px;">Sports</p></div>
                <span class="channel-icon">üèè</span>
            </div>
            
            <div class="banner" id="channels-banner">
                 <a href="https://www.revenuecpmgate.com/c7dib9b5v?key=30b9b6d1bac3403228df62e5b4c6a2c3" target="_blank" rel="noopener noreferrer">
                    <img src="https://i.ibb.co.com/3yRrLxfK/20251002-090751.jpg" alt="Channels Section Banner" class="banner-image" onerror="this.onerror=null; this.src='https://placehold.co/600x100/00ff00/000000?text=SPORTS+AD+SPACE';">
                </a>
            </div>
        </div> 
        
        <div id="highlights-section" class="hidden">
            <div class="section-header">
                <h2>Highlights</h2>
                <a href="https://t.me/livefytv" class="join-now-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-telegram-plane"></i> Join Now
                </a>
                <div id="time-display-highlights" class="datetime-box"></div>
            </div>
             <div class="highlight-card" onclick="openMatchChannels([{name: 'Highlight 1', url: 'https://vodintlv2.in-maa-1.linodeobjects.com/AsiaCup2025/Match5/master.m3u8'}])">
                <img src="https://placehold.co/70x70/ffcc00/000000?text=Wicket" alt="Highlight 3">
                <div class="info">
                    <p style="font-size: 16px; font-weight: bold;">Top 5 Wickets: BANGLADESH WIN</p>
                    <p style="color:#aaa; font-size: 12px;">Asia Cup 2025 - Bangladesh vs Sri Lanka</p>
                </div>
            </div>
            
            <div class="banner" id="highlights-banner">
                <a href="https://www.revenuecpmgate.com/p3zdd3e2?key=daa29b7514ba8b9cd04e286e56b7e484" target="_blank" rel="noopener noreferrer">
                    <img src="https://landings-cdn.adsterratech.com/referralBanners/gif/468x120_adsterra_reff.gif" alt="Highlights Section Banner" class="banner-image" onerror="this.onerror=null; this.src='https://placehold.co/600x100/00ffc8/000000?text=HIGHLIGHTS+AD+SPACE';">
                </a>
            </div>
        </div> 
    </div>
    
    <div id="video-player">
        <div id="video-container-wrapper">
            <button id="close-btn" onclick="closeVideo()">‚ùå</button> 
            <div class="video-wrapper">
                <video id="video" controls autoplay playsinline></video>
                <div id="video-overlay"><span id="livefy-text-animator">LIVEFY TV</span></div>
            </div>
        </div>
        <div id="error-message-box">
            <button class="close-error-btn" onclick="closeVideo()">‚úñ</button> 
            <h3 id="error-title">Error (Playback Failure)</h3>
            <p id="error-text">The video cannot be loaded. The stream link might be invalid, the server may be down, or your device might not support HLS format. Please try another server.</p>
        </div>
        <div id="controls-area">
            <div id="quality-selector-container">
                <label for="quality-select">Video Quality:</label>
                <select id="quality-select" onchange="changeQuality(this.value)">
                    <option value="-1">Auto</option>
                </select>
            </div>
            <div id="server-buttons"></div>
        </div>
    </div>
    
    <nav class="bottom-nav">
         <div id="nav-home" class="nav-item active" onclick="showTab('home-section', this)">
            <svg fill="currentColor" viewBox="0 0 24 24" xmlns="https://s3.brilliant.com.bd/videos/13803348a5e74a7e85574d31a04ae97b/master.m3u8"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
            <span>Home</span>
        </div>
        <div id="nav-channels" class="nav-item" onclick="showTab('sports-channels-section', this)">
            <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z"></path></svg>
            <span>Live TV</span>
        </div>
        <div id="nav-highlights" class="nav-item" onclick="showTab('highlights-section', this)">
            <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 13c-2.34 0-4.59.88-6.23 2.52-1.64 1.64-2.52 3.88-2.52 6.23H5V3h14v10.5h-1.5zm-5.5 3.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5z"></path></svg>
            <span>Highlights</span>
        </div>
    </nav>
    
    
<script>    
        // HLS.js Global Variables (Unchanged)
        let hls = null; 
        const video = document.getElementById('video');
        const qualitySelect = document.getElementById('quality-select');
        const qualityContainer = document.getElementById('quality-selector-container');
        const serverButtonsContainer = document.getElementById('server-buttons');
        const allSections = document.querySelectorAll('.content > div'); 
        const navItems = document.querySelectorAll('.nav-item');
        const errorMessageBox = document.getElementById('error-message-box');
        const livefyTextAnimator = document.getElementById('livefy-text-animator');
        
        // --- NEW: Match filtering elements ---
        const tabItems = document.querySelectorAll('.tab-item');
        const matchSectionTitle = document.getElementById('match-section-title');
        
        // ==============================================================
        // --- MATCH DATA WITH FULL DATETIME ---
        // ‚ö†Ô∏è IMPORTANT: ‡¶è‡¶á ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§
        // ==============================================================
        const matchesData = [
            // Example: Live (Current Time: 2025-11-21 23:18:12 +06)
            { id: '10', start: '2025-11-21 23:00:00', end: '2025-11-22 03:00:00' }, // Bangladesh vs Ireland (Currently Live)
            
            // Example: Finished (Recent)
            { id: '1', start: '2025-11-20 19:00:00', end: '2025-11-20 23:59:59' }, 
            { id: '7', start: '2025-11-20 20:00:00', end: '2025-11-20 22:30:00' }, 
            { id: '5', start: '2025-11-01 00:00:00', end: '2025-11-01 00:01:00' }, 
            { id: '11', start: '2025-11-01 00:00:00', end: '2025-11-01 00:01:00' },
            { id: '6', start: '2025-11-01 00:00:00', end: '2025-11-01 00:01:00' },
            { id: '8', start: '2025-11-01 00:00:00', end: '2025-11-01 00:01:00' },
            
            // Example: Upcoming 
            { id: '4', start: '2025-11-22 10:00:00', end: '2025-11-23 18:00:00' }, // Tomorrow 10 AM
            { id: '9', start: '2025-11-22 13:30:00', end: '2025-11-26 21:00:00' }, // Tomorrow 1:30 PM
            { id: '3', start: '2025-11-23 17:30:00', end: '2025-11-23 23:50:00' }, // Sunday
            { id: '2', start: '2025-11-24 07:00:00', end: '2025-11-24 16:00:00' }, // Monday
        ];


        // ==============================================================
        // --- COUNTDOWN AND STATUS LOGIC ---
        // ==============================================================
        
        function formatCountdownTime(ms) {
            if (ms < 0) return "Starting Soon...";
            
            const totalSeconds = Math.floor(ms / 1000);
            const days = Math.floor(totalSeconds / (3600 * 24));
            const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = Math.floor(totalSeconds % 60);
            
            const h = String(hours).padStart(2, '0');
            const m = String(minutes).padStart(2, '0');
            const s = String(seconds).padStart(2, '0');
            
            if (days > 0) {
                return `Starts in ${days}d ${h}h ${m}m`;
            }
            return `Starts in ${h}:${m}:${s}`;
        }


        function checkMatchStatus() {
            const now = Date.now();
            
            matchesData.forEach(match => {
                const card = document.getElementById(`match-card-${match.id}`);
                const statusEl = document.getElementById(`status-${match.id}`);
                
                if (!card || !statusEl) return;
                
                const startTime = new Date(match.start).getTime();
                const endTime = new Date(match.end).getTime();
                
                let state = 'unknown';
                
                if (now >= startTime && now < endTime) {
                    state = 'live';
                } else if (now < startTime) {
                    state = 'upcoming';
                } else if (now >= endTime) {
                    state = 'finished';
                }
                
                // --- Update Card's Appearance and Status Text ---
                statusEl.innerHTML = ''; 
                
                const statusText = document.createElement('span');
                statusText.className = 'match-status-text';
                
                if (state === 'live') {
                    statusText.textContent = 'LIVE NOW';
                    statusText.classList.add('live-animation');
                    statusEl.appendChild(statusText);
                    
                } else if (state === 'upcoming') {
                    statusText.className = 'match-status-text countdown-timer';
                    statusText.id = `countdown-${match.id}`; 
                    statusText.textContent = formatCountdownTime(startTime - now);
                    statusEl.appendChild(statusText);
                    
                } else if (state === 'finished') {
                    statusText.textContent = 'MATCH END';
                    statusText.classList.add('match-finished');
                    statusEl.appendChild(statusText);
                    
                } else {
                    statusText.textContent = 'Status Unavailable';
                    statusText.classList.add('match-finished');
                    statusEl.appendChild(statusText);
                }
                
                card.setAttribute('data-status', state);
            });
            
            const activeTab = document.querySelector('.tab-item.active');
            if (activeTab) {
                filterMatches(activeTab.getAttribute('data-filter'), activeTab, false); 
            }
        }

        function updateCountdown() {
            const now = Date.now();
            
            matchesData.forEach(match => {
                const countdownEl = document.getElementById(`countdown-${match.id}`);
                const startTime = new Date(match.start).getTime();
                
                if (countdownEl) {
                    const timeRemaining = startTime - now;
                    
                    if (timeRemaining > 0) {
                        countdownEl.textContent = formatCountdownTime(timeRemaining);
                    } else {
                        checkMatchStatus(); 
                    }
                }
            });
        }
        
        
        // ==============================================================
        // --- MATCH FILTERING FUNCTION ---
        // ==============================================================
        
        function filterMatches(filter, selectedTab, shouldResetFocus = true) {
            const allCards = document.querySelectorAll('#home-events-container .match-card');
            
            // 1. Update active tab visual
            tabItems.forEach(tab => tab.classList.remove('active'));
            selectedTab.classList.add('active');
            
            // 2. Update section header text
            let title = "All Matches";
            if (filter === 'live') title = "üî¥ Live Matches";
            else if (filter === 'upcoming') title = "Upcoming Matches";
            else if (filter === 'finished') title = "Recent Matches";
            matchSectionTitle.textContent = title;
            
            // 3. Filter cards (Hide/Show)
            allCards.forEach(card => {
                const status = card.getAttribute('data-status');
                const isBanner = card.classList.contains('banner');
                
                if (isBanner) {
                    card.classList.remove('hidden');
                    return; 
                }
                
                if (filter === 'all' || status === filter) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
            
            // 4. Reset focus for TV remote
            if (shouldResetFocus) {
                setTimeout(() => {
                    updateFocusedElements();
                    const activeTabElement = document.querySelector('.tab-item.active');
                    if(activeTabElement) {
                        let tabIndex = Array.from(focusedElements).indexOf(activeTabElement);
                        if(tabIndex !== -1) {
                            setFocus(tabIndex);
                        } else {
                             setFocus(0); 
                        }
                    }
                }, 100);
            }
        }

        // --- CLOCK, NAVIGATION, AND REMOTE LOGIC (Restored/Checked) ---
        
        function updateClock() {
            const now = new Date();
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
            const dateOptions = { day: 'numeric', month: 'short', year: 'numeric' };

            const timeString = now.toLocaleTimeString('en-US', timeOptions); 
            const dateString = now.toLocaleDateString('en-US', dateOptions);

            const html = `<span style="font-size: 14px; display: block;">${timeString}</span>
                          <span class="date-text" style="display: block;">${dateString}</span>`;

            document.getElementById('time-display-home').innerHTML = html;
            document.getElementById('time-display-channels').innerHTML = html;
            document.getElementById('time-display-highlights').innerHTML = html;
        }

        function showTab(sectionId, element) {
            allSections.forEach(section => section.classList.add('hidden'));
            document.getElementById(sectionId).classList.remove('hidden');
            navItems.forEach(nav => nav.classList.remove('active'));
            element.classList.add('active');
            
            updateFocusedElements();
            setFocus(0); 
        }

        function openMatchChannels(channels) {
            console.log("Opening video channels:", channels);
            document.getElementById('video-player').style.display = 'flex';
            // IMPORTANT: You need to implement your original HLS/video loading logic here
            // Example: loadVideoSource(channels[0].url); 
            updateFocusedElements();
            setFocus(0); 
        }
        
        function closeVideo() {
            document.getElementById('video-player').style.display = 'none';
            // IMPORTANT: You should stop the video playback here (e.g., video.pause();)
            updateFocusedElements();
            setFocus(0); 
        }
        
        // --- TV REMOTE LOGIC (Checked for proper element selection including tabs) ---
        let currentFocusIndex = 0;
        let focusedElements = [];

        function updateFocusedElements() {
            focusedElements = [];
            
            if (document.getElementById('video-player').style.display === 'flex') {
                focusedElements = Array.from(document.querySelectorAll('#close-btn, #quality-select, #error-message-box .close-error-btn, #server-buttons .server-button'));
            } else {
                const activeSection = document.querySelector('.content > div:not(.hidden)');
                
                if (activeSection && activeSection.id === 'home-section') {
                    focusedElements = focusedElements.concat(Array.from(activeSection.querySelectorAll('.join-now-link')));
                    focusedElements = focusedElements.concat(Array.from(document.querySelectorAll('.filter-tabs .tab-item')));
                    focusedElements = focusedElements.concat(Array.from(activeSection.querySelectorAll('.match-card:not(.hidden), #home-banner'))); // Include visible banner
                } else if (activeSection) {
                    focusedElements = focusedElements.concat(Array.from(activeSection.querySelectorAll('.join-now-link, .channel-card, .highlight-card, .banner')));
                }
                
                focusedElements = focusedElements.concat(Array.from(document.querySelectorAll('.bottom-nav .nav-item')));
            }
        }
        
        function setFocus(newIndex) {
            if (focusedElements[currentFocusIndex]) {
                focusedElements[currentFocusIndex].classList.remove('focused');
                focusedElements[currentFocusIndex].blur(); 
            }

            if (newIndex >= focusedElements.length) {
                newIndex = 0;
            } else if (newIndex < 0) {
                newIndex = focusedElements.length - 1;
            }

            currentFocusIndex = newIndex;

            if (focusedElements[currentFocusIndex]) {
                focusedElements[currentFocusIndex].classList.add('focused');
                focusedElements[currentFocusIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
                if (focusedElements[currentFocusIndex].tagName === 'SELECT') {
                    focusedElements[currentFocusIndex].focus();
                }
            }
        }
        
        document.addEventListener('keydown', function(e) {
            let handled = true;

            switch (e.code) {
                case 'ArrowRight':
                case 'ArrowDown':
                    updateFocusedElements(); 
                    setFocus(currentFocusIndex + 1);
                    break;
                case 'ArrowLeft':
                case 'ArrowUp':
                    updateFocusedElements(); 
                    setFocus(currentFocusIndex - 1);
                    break;
                case 'Enter': 
                case 'NumpadEnter':
                    if (focusedElements[currentFocusIndex]) {
                        if (focusedElements[currentFocusIndex].tagName !== 'SELECT') {
                            focusedElements[currentFocusIndex].click();
                        }
                    } else {
                        handled = false;
                    }
                    break;
                case 'Escape':
                    if (document.getElementById('video-player').style.display === 'flex') {
                        closeVideo();
                    } else {
                        handled = false;
                    }
                    break;
                default:
                    handled = false;
            }

            if (handled) {
                e.preventDefault(); 
            }
        });

        // Initial setup and recurring tasks
        document.addEventListener('DOMContentLoaded', () => {
            updateClock();
            setInterval(updateClock, 1000); 

            checkMatchStatus(); 
            
            setInterval(() => {
                checkMatchStatus(); 
                updateCountdown();  
            }, 1000);

            const defaultTab = document.getElementById('nav-home');
            showTab('home-section', defaultTab); 
            
            filterMatches('all', document.getElementById('tab-all'), false); 
            
            updateFocusedElements();
            setFocus(0); 
        });

    </script>

</body>
</html>
